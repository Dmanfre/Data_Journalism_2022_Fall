---
title: "Class Reference"
author: "Student name"
output:
  html_document:
    theme: cerulean
    highlight: pygments
    toc: true
    toc_float:
      collapsed: true
      smooth_scroll: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

Consider this a personal guide to the commands and functions you will learn. In general, when you come across an R command or function that you want to remember, put it in here along with a description of what it does and when you'd use it.


## Things I Learned on Jan. 27

The command to set a working directory is setwd(). For example:

```{r}
setwd("~/Documents/GitHub/data_journalism_2022_spring")
```

```{r}
install.packages("tidyverse")
library(tidyverse)
```


Here's the path to my external drive repo:

/Volumes/Elements/D-Drive/University of Maryland/Classes/Fall 2022/Data Journalism/Github Repository/Data_Journalism_2022_Fall

### Summarizing

I need to use group_by and summariz. Here's an example of grouping by county and calculating counts, sum and other descriptive statistics.


```{r}
ppp_maryland_loans %>%
  group_by(project_county_name) %>%
  summarise(
    count_loans = n(),
    total_loans_amount = sum(amount),
    mean_loan_amount = mean(amount),
    median_loan_amount = median(amount),
    min_loan_amount = min(amount),
    max_loan_amount = max(amount)
  ) %>%
  arrange(desc(max_loan_amount))
```

### Interesting Packages

Lubridate: this package helps you work with dates and times 

### Verbs to know form 9/19
read_csv tells R to read the CSV file which is your data set
Mutate() adds a new column based on one ore more existing columns.
  - This is not perminent until we save it as a new variable.
  - `str_to_upper` that will convert a character column into all uppercase.
  - str is string to ....
Select() means I only want to see a certain amount of columns. Seperate them by commas. 
case_when is a mutation that can show you a range say donations ranging from 100 to 400 ... 

mutate(
    amount_category = case_when(
        amount < 100 ~ "Less than $100",
        amount >= 100 & amount <= 500 ~ "Between $100 and $500",
        amount > 500 & amount <= 2900 ~ "Between $501 and $2900",
        amount > 2900 ~ "More than $2,900"
    "Copy this code for when I need to do it next time"
    
Filter ==
### Notes
A general tip about using filter: it's easier to work your way towards the filter syntax you need rather than try and write it once and trust the result. Each time you modify your filter, check the results to see if they make sense. This adds a little time to your process but you'll thank yourself for doing it because it helps avoid mistakes.

### Notes from 9/21/22
Select is a horoontal compression (number of columns) 
  - select(office, district, name_raw, party, votes)
  - Reduces the number of columns I see
  - Use it when facing a situation wehre you want to look at 4 columns out of a ton.
Filter is a vertal compression. (number of rows)

AND and OR. In this case, AND is `&` and OR is `|`.

### Notes from 9/26/22 class

  mutate  (election_day = case_when(
    election_day == '5+' ~ '49',
    TRUE ~ election_day
    
    What this does is that you are trying to handle all your special cases firt but keeps the stuff that you don't want to change.
      
  The mutate column adds another row to see

This code above shows us how to rename headers is they are mispelled or have a numeral in there first.
```{r}
cleaned_field name <- field name %>%
  clean_names() %>% 
  rename(column  = name we want to change)

# display the cleaned dataset
cleaned_file name
```

as.numeric() means changing a field from a character or whatever it is to a numeral field.


This code below will show you any duplicate rows in your dada field.
```{r}
cleaned_filename %>% 
  get_dupes()

adding  distinct() will make sure you only see unique rows and eliminate any duplicates.

```

str_to_title(_____)) changes the first letter to be capital. 


str is used to standardized things. This code below will detect any mispellings and correct them. the frist word Conowing is incorrect.

  mutate(city = case_when(
    str_detect(city,"^Conowing") ~ "Conowingo",
    
### Notes from 9/28 class

cleaned_file_name %>% 
  get_dupes() this means R will find duplicate rows of data. Everything in one or more rows is exactly the same in every column.

If you see duplicates, then you need to use   distinct(). It will show each unique row once.

clean_names works on column names. 

str_sub extract and replace substrings. Substrings are sub portions of a charactr... a string is anything in quotations. 

str_detect means it detects the presence of absense of a pattern in a string.
str_detect(city,"^Conowing") ~ "Conowingo", means change everything after Conowing to Conowingo. The carrot aftr the quote and before the C means only change the first few characters.

String detect is handy when you need to find varriations of the same thing and clean it up. 


### Function to find a specific name.
new_city %>% 
filter(contributor_name == "naeme",
       contributor_city == "city") %>% 
arrange(desc(contribution_receipt_amount))
### This will show how many times an individual of a certain city comes up in a data set.

